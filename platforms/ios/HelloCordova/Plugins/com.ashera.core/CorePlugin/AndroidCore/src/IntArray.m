//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: D:\Java\git\core-javafx-widget\SWTAndroid\src\main\java\r\android\util\IntArray.java
//

#include "ArrayUtils.h"
#include "ContainerHelpers.h"
#include "EmptyArray.h"
#include "IOSPrimitiveArray.h"
#include "IntArray.h"
#include "J2ObjC_source.h"
#include "Preconditions.h"
#include "java/lang/System.h"
#include "java/util/Arrays.h"


@interface ADIntArray () {
 @public
  IOSIntArray *mValues_;
  jint mSize_;
}

- (instancetype)initWithIntArray:(IOSIntArray *)array
                         withInt:(jint)size;

/*!
 @brief Ensures capacity to append at least <code>count</code> values.
 */
- (void)ensureCapacityWithInt:(jint)count;

@end

J2OBJC_FIELD_SETTER(ADIntArray, mValues_, IOSIntArray *)

inline jint ADIntArray_get_MIN_CAPACITY_INCREMENT(void);
#define ADIntArray_MIN_CAPACITY_INCREMENT 12
J2OBJC_STATIC_FIELD_CONSTANT(ADIntArray, MIN_CAPACITY_INCREMENT, jint)

__attribute__((unused)) static void ADIntArray_initWithIntArray_withInt_(ADIntArray *self, IOSIntArray *array, jint size);

__attribute__((unused)) static ADIntArray *new_ADIntArray_initWithIntArray_withInt_(IOSIntArray *array, jint size) NS_RETURNS_RETAINED;

__attribute__((unused)) static ADIntArray *create_ADIntArray_initWithIntArray_withInt_(IOSIntArray *array, jint size);

__attribute__((unused)) static void ADIntArray_ensureCapacityWithInt_(ADIntArray *self, jint count);

@implementation ADIntArray

- (instancetype)initWithIntArray:(IOSIntArray *)array
                         withInt:(jint)size {
  ADIntArray_initWithIntArray_withInt_(self, array, size);
  return self;
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ADIntArray_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (instancetype)initWithInt:(jint)initialCapacity {
  ADIntArray_initWithInt_(self, initialCapacity);
  return self;
}

+ (ADIntArray *)wrapWithIntArray:(IOSIntArray *)array {
  return ADIntArray_wrapWithIntArray_(array);
}

+ (ADIntArray *)fromArrayWithIntArray:(IOSIntArray *)array
                              withInt:(jint)size {
  return ADIntArray_fromArrayWithIntArray_withInt_(array, size);
}

- (void)resizeWithInt:(jint)newSize {
  ADPreconditions_checkArgumentNonnegativeWithInt_(newSize);
  if (newSize <= ((IOSIntArray *) nil_chk(mValues_))->size_) {
    JavaUtilArrays_fillWithIntArray_withInt_withInt_withInt_(mValues_, newSize, mValues_->size_, 0);
  }
  else {
    ADIntArray_ensureCapacityWithInt_(self, newSize - mSize_);
  }
  mSize_ = newSize;
}

- (void)addWithInt:(jint)value {
  [self addWithInt:mSize_ withInt:value];
}

- (void)addWithInt:(jint)index
           withInt:(jint)value {
  ADIntArray_ensureCapacityWithInt_(self, 1);
  jint rightSegment = mSize_ - index;
  mSize_++;
  ADArrayUtils_checkBoundsWithInt_withInt_(mSize_, index);
  if (rightSegment != 0) {
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(mValues_, index, mValues_, index + 1, rightSegment);
  }
  *IOSIntArray_GetRef(nil_chk(mValues_), index) = value;
}

- (jint)binarySearchWithInt:(jint)value {
  return ADContainerHelpers_binarySearchWithIntArray_withInt_withInt_(mValues_, mSize_, value);
}

- (void)addAllWithADIntArray:(ADIntArray *)values {
  jint count = ((ADIntArray *) nil_chk(values))->mSize_;
  ADIntArray_ensureCapacityWithInt_(self, count);
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(values->mValues_, 0, mValues_, mSize_, count);
  mSize_ += count;
}

- (void)ensureCapacityWithInt:(jint)count {
  ADIntArray_ensureCapacityWithInt_(self, count);
}

- (void)clear {
  mSize_ = 0;
}

- (ADIntArray *)java_clone {
  ADIntArray *clone = (ADIntArray *) cast_chk([super java_clone], [ADIntArray class]);
  JreStrongAssign(&((ADIntArray *) nil_chk(clone))->mValues_, [((IOSIntArray *) nil_chk(mValues_)) java_clone]);
  return clone;
}

- (jint)getWithInt:(jint)index {
  ADArrayUtils_checkBoundsWithInt_withInt_(mSize_, index);
  return IOSIntArray_Get(nil_chk(mValues_), index);
}

- (void)setWithInt:(jint)index
           withInt:(jint)value {
  ADArrayUtils_checkBoundsWithInt_withInt_(mSize_, index);
  *IOSIntArray_GetRef(nil_chk(mValues_), index) = value;
}

- (jint)indexOfWithInt:(jint)value {
  jint n = mSize_;
  for (jint i = 0; i < n; i++) {
    if (IOSIntArray_Get(nil_chk(mValues_), i) == value) {
      return i;
    }
  }
  return -1;
}

- (void)removeWithInt:(jint)index {
  ADArrayUtils_checkBoundsWithInt_withInt_(mSize_, index);
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(mValues_, index + 1, mValues_, index, mSize_ - index - 1);
  mSize_--;
}

- (jint)size {
  return mSize_;
}

- (IOSIntArray *)toArray {
  return JavaUtilArrays_copyOfWithIntArray_withInt_(mValues_, mSize_);
}

- (void)dealloc {
  RELEASE_(mValues_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, -1, -1, -1 },
    { NULL, "LADIntArray;", 0x9, 2, 3, -1, -1, -1, -1 },
    { NULL, "LADIntArray;", 0x9, 4, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 5, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 6, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 6, 7, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 8, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 9, 10, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 11, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LADIntArray;", 0x1, 12, -1, 13, -1, -1, -1 },
    { NULL, "I", 0x1, 14, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 15, 7, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 16, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 17, 1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[I", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithIntArray:withInt:);
  methods[1].selector = @selector(init);
  methods[2].selector = @selector(initWithInt:);
  methods[3].selector = @selector(wrapWithIntArray:);
  methods[4].selector = @selector(fromArrayWithIntArray:withInt:);
  methods[5].selector = @selector(resizeWithInt:);
  methods[6].selector = @selector(addWithInt:);
  methods[7].selector = @selector(addWithInt:withInt:);
  methods[8].selector = @selector(binarySearchWithInt:);
  methods[9].selector = @selector(addAllWithADIntArray:);
  methods[10].selector = @selector(ensureCapacityWithInt:);
  methods[11].selector = @selector(clear);
  methods[12].selector = @selector(java_clone);
  methods[13].selector = @selector(getWithInt:);
  methods[14].selector = @selector(setWithInt:withInt:);
  methods[15].selector = @selector(indexOfWithInt:);
  methods[16].selector = @selector(removeWithInt:);
  methods[17].selector = @selector(size);
  methods[18].selector = @selector(toArray);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "MIN_CAPACITY_INCREMENT", "I", .constantValue.asInt = ADIntArray_MIN_CAPACITY_INCREMENT, 0x1a, -1, -1, -1, -1 },
    { "mValues_", "[I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "mSize_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "[II", "I", "wrap", "[I", "fromArray", "resize", "add", "II", "binarySearch", "addAll", "LADIntArray;", "ensureCapacity", "clone", "LJavaLangCloneNotSupportedException;", "get", "set", "indexOf", "remove" };
  static const J2ObjcClassInfo _ADIntArray = { "IntArray", "r.android.util", ptrTable, methods, fields, 7, 0x1, 19, 3, -1, -1, -1, -1, -1 };
  return &_ADIntArray;
}

- (id)copyWithZone:(NSZone *)zone {
  return [[self java_clone] retain];
}

@end

void ADIntArray_initWithIntArray_withInt_(ADIntArray *self, IOSIntArray *array, jint size) {
  NSObject_init(self);
  JreStrongAssign(&self->mValues_, array);
  self->mSize_ = ADPreconditions_checkArgumentInRangeWithInt_withInt_withInt_withNSString_(size, 0, ((IOSIntArray *) nil_chk(array))->size_, @"size");
}

ADIntArray *new_ADIntArray_initWithIntArray_withInt_(IOSIntArray *array, jint size) {
  J2OBJC_NEW_IMPL(ADIntArray, initWithIntArray_withInt_, array, size)
}

ADIntArray *create_ADIntArray_initWithIntArray_withInt_(IOSIntArray *array, jint size) {
  J2OBJC_CREATE_IMPL(ADIntArray, initWithIntArray_withInt_, array, size)
}

void ADIntArray_init(ADIntArray *self) {
  ADIntArray_initWithInt_(self, 10);
}

ADIntArray *new_ADIntArray_init() {
  J2OBJC_NEW_IMPL(ADIntArray, init)
}

ADIntArray *create_ADIntArray_init() {
  J2OBJC_CREATE_IMPL(ADIntArray, init)
}

void ADIntArray_initWithInt_(ADIntArray *self, jint initialCapacity) {
  NSObject_init(self);
  if (initialCapacity == 0) {
    JreStrongAssign(&self->mValues_, JreLoadStatic(ADEmptyArray, INT));
  }
  else {
    JreStrongAssign(&self->mValues_, ADArrayUtils_newUnpaddedIntArrayWithInt_(initialCapacity));
  }
  self->mSize_ = 0;
}

ADIntArray *new_ADIntArray_initWithInt_(jint initialCapacity) {
  J2OBJC_NEW_IMPL(ADIntArray, initWithInt_, initialCapacity)
}

ADIntArray *create_ADIntArray_initWithInt_(jint initialCapacity) {
  J2OBJC_CREATE_IMPL(ADIntArray, initWithInt_, initialCapacity)
}

ADIntArray *ADIntArray_wrapWithIntArray_(IOSIntArray *array) {
  ADIntArray_initialize();
  return create_ADIntArray_initWithIntArray_withInt_(array, ((IOSIntArray *) nil_chk(array))->size_);
}

ADIntArray *ADIntArray_fromArrayWithIntArray_withInt_(IOSIntArray *array, jint size) {
  ADIntArray_initialize();
  return ADIntArray_wrapWithIntArray_(JavaUtilArrays_copyOfWithIntArray_withInt_(array, size));
}

void ADIntArray_ensureCapacityWithInt_(ADIntArray *self, jint count) {
  jint currentSize = self->mSize_;
  jint minCapacity = currentSize + count;
  if (minCapacity >= ((IOSIntArray *) nil_chk(self->mValues_))->size_) {
    jint targetCap = currentSize + (currentSize < (JreIntDiv(ADIntArray_MIN_CAPACITY_INCREMENT, 2)) ? ADIntArray_MIN_CAPACITY_INCREMENT : JreRShift32(currentSize, 1));
    jint newCapacity = targetCap > minCapacity ? targetCap : minCapacity;
    IOSIntArray *newValues = ADArrayUtils_newUnpaddedIntArrayWithInt_(newCapacity);
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(self->mValues_, 0, newValues, 0, currentSize);
    JreStrongAssign(&self->mValues_, newValues);
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ADIntArray)
