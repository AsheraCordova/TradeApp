//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: D:\Java\git\core-widget_library\Plugin_Converter\src\com\ashera\converter\AbstractEnumToIntArrayConverter.java
//

#include "AbstractEnumToIntArrayConverter.h"
#include "IFragment.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Integer.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/StringBuilder.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"


@implementation ASAbstractEnumToIntArrayConverter

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ASAbstractEnumToIntArrayConverter_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (IOSIntArray *)convertFromWithId:(NSString *)value
                   withJavaUtilMap:(id<JavaUtilMap>)dependentAttributesMap
                   withASIFragment:(id<ASIFragment>)fragment {
  id<JavaUtilMap> mapping = JreRetainedLocalValue([self getMapping]);
  if (value == nil) {
    return [self getDefault];
  }
  else {
    IOSObjectArray *values = [value java_split:@"\\|"];
    IOSIntArray *returnInt = [IOSIntArray arrayWithLength:((IOSObjectArray *) nil_chk(values))->size_];
    for (jint i = 0; i < values->size_; i++) {
      if ([((id<JavaUtilMap>) nil_chk(mapping)) containsKeyWithId:IOSObjectArray_Get(values, i)]) {
        *IOSIntArray_GetRef(returnInt, i) = [((JavaLangInteger *) nil_chk([mapping getWithId:IOSObjectArray_Get(values, i)])) intValue];
      }
      else {
        @throw create_JavaLangRuntimeException_initWithNSString_(JreStrcat("$$", @"Invalid mapping found ", IOSObjectArray_Get(values, i)));
      }
    }
    return returnInt;
  }
}

- (NSString *)convertToWithId:(IOSIntArray *)value
              withASIFragment:(id<ASIFragment>)fragment {
  id<JavaUtilMap> mapping = JreRetainedLocalValue([self getMapping]);
  id<JavaUtilList> values = create_JavaUtilArrayList_init();
  {
    IOSIntArray *a__ = value;
    jint const *b__ = ((IOSIntArray *) nil_chk(a__))->buffer_;
    jint const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      jint currentValue = *b__++;
      id<JavaUtilSet> keySet = JreRetainedLocalValue([((id<JavaUtilMap>) nil_chk(mapping)) keySet]);
      for (NSString * __strong key in nil_chk(keySet)) {
        JavaLangInteger *keyValue = JreRetainedLocalValue([mapping getWithId:key]);
        if ([((JavaLangInteger *) nil_chk(keyValue)) intValue] == currentValue) {
          [values addWithId:key];
          break;
        }
      }
    }
  }
  JavaLangStringBuilder *stringBuilder = create_JavaLangStringBuilder_init();
  NSString *seperator = @"";
  for (NSString * __strong str in values) {
    [((JavaLangStringBuilder *) nil_chk([stringBuilder appendWithNSString:seperator])) appendWithNSString:str];
    seperator = @"|";
  }
  return [stringBuilder description];
}

- (NSString *)getAllOption {
  return nil;
}

- (id<JavaUtilList>)getDependentAttributes {
  return nil;
}

- (id<JavaUtilMap>)getMapping {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (IOSIntArray *)getDefault {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (id<JavaUtilCollection>)getReverseMappingFlags {
  return [((id<JavaUtilMap>) nil_chk([self getMapping])) values];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[I", 0x1, 0, 1, -1, 2, -1, -1 },
    { NULL, "LNSString;", 0x1, 3, 4, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaUtilList;", 0x1, -1, -1, -1, 5, -1, -1 },
    { NULL, "LJavaUtilMap;", 0x401, -1, -1, -1, 6, -1, -1 },
    { NULL, "[I", 0x401, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaUtilCollection;", 0x1, -1, -1, -1, 7, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(convertFromWithId:withJavaUtilMap:withASIFragment:);
  methods[2].selector = @selector(convertToWithId:withASIFragment:);
  methods[3].selector = @selector(getAllOption);
  methods[4].selector = @selector(getDependentAttributes);
  methods[5].selector = @selector(getMapping);
  methods[6].selector = @selector(getDefault);
  methods[7].selector = @selector(getReverseMappingFlags);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "convertFrom", "LNSString;LJavaUtilMap;LASIFragment;", "(Ljava/lang/String;Ljava/util/Map<Ljava/lang/String;Ljava/lang/Object;>;Lcom/ashera/core/IFragment;)[I", "convertTo", "[ILASIFragment;", "()Ljava/util/List<Ljava/lang/String;>;", "()Ljava/util/Map<Ljava/lang/String;Ljava/lang/Integer;>;", "()Ljava/util/Collection<Ljava/lang/Integer;>;", "Ljava/lang/Object;Lcom/ashera/converter/IConverter<[ILjava/lang/String;>;" };
  static const J2ObjcClassInfo _ASAbstractEnumToIntArrayConverter = { "AbstractEnumToIntArrayConverter", "com.ashera.converter", ptrTable, methods, NULL, 7, 0x401, 8, 0, -1, -1, -1, 8, -1 };
  return &_ASAbstractEnumToIntArrayConverter;
}

@end

void ASAbstractEnumToIntArrayConverter_init(ASAbstractEnumToIntArrayConverter *self) {
  NSObject_init(self);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ASAbstractEnumToIntArrayConverter)
